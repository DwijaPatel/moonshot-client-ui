<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Ami talking</title>

    <!-- for mobile screens -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- stylesheets are conveniently separated into components -->
    <link rel="stylesheet" media="all" href="./component/styles/setup.css">
    <link rel="stylesheet" media="all" href="./component/styles/input.css">
    <link rel="stylesheet" media="all" href="./component/styles/lineup.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

    
    <style>
        body {
            background: #dcdde0;
        }

        .bubble-container {
            height: 100vh;
        }
        .a11y {
            position: absolute!important;
            clip: rect(1px,1px,1px,1px);
            padding: 0!important;
            border: 0!important;
            height: 1px!important;
            width: 1px!important;
            overflow: hidden;
        }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="./component/js/lineup.js"></script>

    <script>

        var selectedLanguage;
        $(document).ready(function () {
            prepareInitialPage();
        });

        function prepareInitialPage() {
            if(selectedLanguage) {
                $('#chat').show()
                $('#lang').hide()
                startConversation()
            } else {
                $('#lang').show()
                $('#chat').hide()
            }
        }    


        function startConversation() {
            $('#chat').show()
            $('#inputbox').on('keypress', function (e) {
                if (e.which == 13) {
                    var searchTerm = $(this).val();
                    if (searchTerm.trim().length > 0) {
                        reply(searchTerm);
                        searchCards(searchTerm, selectedLanguage);
                        $(this).val('');
                    }

                    event.preventDefault();
                }
            });
            say('Hi in ' + selectedLanguage);
            say('What type of content do you want?');
          
        }

        function setLanguage(lang) {
            selectedLanguage = lang;
            prepareInitialPage();
        }

    </script>

</head>

<body>
        <main>
    <!-- container element for chat window -->
    <div id="chat" class="bubble-container" >

        <div id="chatwrap" class="bubble-wrap" style="padding-bottom: 100px;">

        </div>
      
        <div class="input-wrap"><p1>Please enter your question:</p1><textarea aria-label="Ask me anything!" id="inputbox" placeholder="Ask me anything..." onkeypress=""></textarea></div>
    </div>

<div id="lang" class="w3-container" style="width:60%; margin:auto;">
        <div class="w3-row">
                <div class="w3-half w3-center">
                        <div class="w3-card-4"  style="margin: 5px">
                                <header class="w3-container w3-light-grey">
                                  <h1>Welcome</h1>
                                </header>
                                <div class="w3-container">
                                  <p>You will be able to choose your language next.</p><br>
                                </div>
                                <button class="w3-button w3-block w3-dark-grey" onclick="setLanguage('English')">English</button>
                              </div>
                </div>
                <div class="w3-half w3-center" >
                        <div class="w3-card-4"  style="margin: 5px">
                                <header class="w3-container w3-light-grey">
                                  <h1>Bienvenue</h1>
                                </header>
                                <div class="w3-container">
                                  <p>CMás adelante podrás escoger tu idoma.</p><br>
                                </div>
                                <button class="w3-button w3-block w3-dark-grey" onclick="setLanguage('Français')">Français</button>
                              </div>
                </div>
              </div>

</div>

</main>
</body>
</html>